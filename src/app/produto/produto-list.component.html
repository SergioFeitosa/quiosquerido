<app-caminho-menu></app-caminho-menu>


<!-- DESKTOP -->

<div class='container desktop'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..." [(ngModel)]='filter'
            style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th style='width: 1%;'></th>
        <th style='width: 25%; color: #2494fc; font-weight: 500;font-size: 0.8em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 5%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>

      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td >
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70"
            style="margin: 0;">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>{{ produto.nome }}</td>
         
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>R$ {{ produto.preco }} </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<!-- LAPTOP -->

<div class='container laptop'>

  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..." [(ngModel)]='filter'
            style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 1%;'></th>
        <th style='width: 25%; color: #2494fc; font-weight: 500;font-size: 0.8em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 5%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style='padding-right: 0px; display: flex; justify-content: center;align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70"
            style="margin: 0;">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>

<!-- LAPTOP2 -->

<div class='container laptop2'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..." [(ngModel)]='filter'
            style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 1%;'></th>
        <th style='width: 25%; color: #2494fc; font-weight: 500;font-size: 0.8em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 5%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style='display: flex; justify-content: center;align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>


<!-- TABLET -->

<div class='container tablet'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..." [(ngModel)]='filter'
            style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 10%;'></th>
        <th style='width: 65%; color: #2494fc; font-weight: 500; font-size: 1.2em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 25%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style='display: flex; justify-content: center; align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="80" height="80">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 400;font-size: 1.0em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 400;font-size: 1.0em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>

<!-- MOBILE -->

<div class='container mobile'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..." [(ngModel)]='filter'
            style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 10%;'></th>
        <th style='width: 65%; color: #2494fc; font-weight: 500; font-size: 1.2em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 25%; color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style='display: flex; justify-content: center; align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 400;font-size: 1.0em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 400;font-size: 1.0em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>

<!-- MOBILE PEQUENO -->

<div class='container mobile-pequeno'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..."
            [(ngModel)]='filter' style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 12%;'></th>
        <th style='width: 63%; color: #2494fc; font-weight: 500;font-size: 0.8em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 25%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style=' display: flex; justify-content: center; align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.8em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>

<!-- MOBILE PEQUENO2 -->

<div class='container mobile-pequeno2'>
  <section class="my-4">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="input-group">
          <input type="text" name="filter1" class="form-control" placeholder="Buscar produtos..."
            [(ngModel)]='filter' style="color: #4f63e7; " />
          <span class="input-group-text">
            <i class="bi bi-search"></i>üîç
          </span>
        </div>
      </div>
    </div>
  </section>

  <table class="table table-bordered table-striped" style="margin-top: 1em;">
    <thead>
      <tr>
        <th style='width: 20%;'></th>
        <th style='width: 60%; color: #2494fc; font-weight: 500;font-size: 0.8em;'> 
          <a (click)="sortProductsByName()" style="cursor: pointer;">ITEM</a> 
        </th>
        <th style='width: 20%;  color: #2494fc; font-weight: 500;font-size: 0.8em;' class="text-center"> 
          <a (click)="sortProductsByPrice()" style="cursor: pointer;">PRE√áO</a>
        </th>
      </tr>
    </thead>
    <tbody>
      @for (produto of sortedProducts; track produto.nome) {
      <tr (click)="openPopup(produto.id! )">
        <td style='display: flex; justify-content: center; align-items: center; '>
          <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="70" height="70">
        </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.7em;'>{{ produto.nome }} </td>
        <td style='width: 1%; color: #4f63e7; font-weight: 500;font-size: 0.7em;'>R$ {{ produto.preco }} </td>
      </tr>
    }
    </tbody>
  </table>
</div>


<!-- Detalhes do produto/pedido -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display': displayStyle}">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style='background-color:rgb(246, 253, 232)'>
      <div class="modal-header d-flex " style='display: flex; justify-content: space-evenly; background-color:rgb(225, 240, 252); '>
        <button type="button" 
                (click)="login ? carrinhoCreate( produto.id! ) : openPopup2(produto.id! )" 
                style="margin-left: 1em; border-color: #2494fc; border-radius: 10px;">
          <img  src='/assets/images/carrinho.jpg' 
                class="figure-img img-fluid rounded" 
                alt="Carrinho" 
                width="60px" 
                height="50px">
        </button>
        <button type="button" 
                class="btn btn-danger" 
                (click)="closePopup()" 
                style="width: 80px; height: 50px; border-color: #2494fc; border-radius: 10px; " >
          Fechar
        </button>

      </div>
      <div class="modal-body row" >
        <span>Avalia√ß√£o: </span> 
        <app-star style='float: right;' [rating]="produto.avaliacao"></app-star>
      </div>
      <div class="modal-body row">
        <img [src]='produto.imagem_url' class="figure-img img-fluid rounded" alt="..." width="400" height="400">
      </div>
      <div class="modal-body row">
        <span style='font-weight: bolder;'>Nome:</span>
        <span>{{ produto.nome }}</span>
      </div>
      <div class="modal-body row">
        <span style='font-weight: bolder;'>Descri√ß√£o:</span>
        <span> {{ produto.descricao }} </span>
      </div>
      <div class="modal-body">
        <div class="row">
          <span class="col-4" style='font-weight: bolder; color:blue'>Pre√ßo
            Unit√°rio:</span>
          <span class="col-8" style='font-weight: bolder; color:blue'>Pre√ßo
            Total:</span>
        </div>
        <div class="row">
          <span class="col-4"> {{ produto.preco }} </span>
          <span class="col-8">{{ produto.preco * carrinho.quantidade }}
          </span>
        </div>
      </div>

      <div class="modal-body row">
        <span style='font-weight: bolder; color:blue'>Quantidade:</span>
        <a style="width: 2em; margin-top: 0.5em" (click)="minus()"><i class="fa
            fa-minus" style="color:red"></i></a>
        <input 
          id="quantidadeModal1"
          name="quantidadeModal1"          
          style="width: 3em;" 
          [(ngModel)]='carrinho.quantidade' 
          class='form-control'>
        <a style="width: 2em; margin-top: 0.5em" (click)="plus()"><i class="fa
            fa-plus" style="color:red"></i></a>
      </div>
      <div class="modal-body row">
        <div class='form-group row container'>
          <span style='font-weight: bolder; color:blue'>Observa√ß√µes:</span>
          <div>
            <textarea 
                [(ngModel)]='carrinho.observacao' 
                class='form-control'
                id="observacaoModal1"
                name="observacaoModal1"                
                >
            </textarea>
          </div>
        </div>
      </div>
      <div class="modal-body row">
        <span style='font-weight: bolder;'>Tempo de Prepara√ß√£o:</span>
        <span>{{ produto.tempo_preparacao }} </span>
      </div>

      <div class="modal-content " style='background-color:rgb(225, 240,252)'>
        <div class="modal-header" style='display: flex; justify-content: space-evenly; background-color:rgb(225, 240, 252)'>
        <button type="button" 
                (click)="login ? carrinhoCreate( produto.id! ) : openPopup2(produto.id! )" 
                style="margin-left: 1em;
                border-color: #2494fc;
                border-radius: 10px;"
                >
          <img  src='/assets/images/carrinho.jpg' 
                class="figure-img img-fluid rounded" 
                alt="Carrinho" 
                width="60px" 
                height="50px"
                
          >

        </button>
        <button type="button" 
                class="btn btn-danger" 
                (click)="closePopup()" 
                style="width: 80px; height: 50px; border-color: #2494fc; border-radius: 10px; " >
          Fechar
        </button>
        </div>
      </div>
    </div> 
  </div> 
</div>


<!-- login -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display': displayStyle2}">
  <div class='col-sm-12'>
    <app-phone-number (phoneNumberChangeEvent)="handleEvent($event)"></app-phone-number>
  </div>
</div>